<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="Functions for storing data from application events in metric points. These functions are utilized in the [[definition of metrics | createState]]." />

    <title>DataPoint</title>

    
    <link rel="stylesheet" href="../assets/megadoc__styles.css" />
    

    
  </head>

  <body class="body--themed">
    <div id="__app__"><div data-reactroot="" data-reactid="1" data-react-checksum="-451945800"><div data-reactid="2"></div><!-- react-empty: 3 --><div class="root root--with-multi-page-layout root--with-two-column-layout root--with-fixed-sidebar root--without-banner" data-reactid="4"><div class="root__screen" data-reactid="5"><div class="two-column-layout two-column-layout--fixed" data-reactid="6"><div class="two-column-layout__left" style="width:340px;" data-reactid="7"><div class="resizable-panel" data-reactid="8"><div class="resizable-panel__content" data-reactid="9"><div data-reactid="10"><div data-reactid="11"><nav class="megadoc-document-browser markdown-browser" data-reactid="12"><div data-reactid="13"><div data-reactid="14"><a href="../index.html#full-metal-alchemy" class="class-browser__entry-link mega-link mega-link--functional" data-reactid="15"><!-- react-text: 16 -->Full Metal Alchemy
<!-- /react-text --></a></div></div></nav></div><div data-reactid="17"><h3 class="layout__sidebar-header" data-reactid="18">API</h3></div><div data-reactid="19"><nav class="megadoc-document-browser class-browser__listing" data-reactid="20"><div class="class-browser__category" data-reactid="21"><div class="class-browser__entry" data-reactid="22"><a href="createState.html#createState" class="class-browser__entry-link mega-link mega-link--functional" data-reactid="23"><!-- react-text: 24 -->createState<!-- /react-text --></a></div><div class="class-browser__entry" data-reactid="25"><a href="refine.html#refine" class="class-browser__entry-link mega-link mega-link--functional" data-reactid="26"><!-- react-text: 27 -->refine<!-- /react-text --></a></div></div></nav></div><div data-reactid="28"><h3 class="layout__sidebar-header" data-reactid="29">API: Auxiliary</h3></div><div data-reactid="30"><nav class="megadoc-document-browser class-browser__listing" data-reactid="31"><div class="class-browser__category" data-reactid="32"><div class="class-browser__entry class-browser__entry--active" data-reactid="33"><a href="#DataPoint" class="class-browser__entry-link active mega-link mega-link--active mega-link--functional" data-reactid="34"><!-- react-text: 35 -->DataPoint<!-- /react-text --></a><ul class="class-browser__methods" data-reactid="36"><li class="class-browser__methods-entity" data-reactid="37"><a title="DataPoint.always" href="#.always" class="mega-link mega-link--functional" data-reactid="38">.always</a></li><li class="class-browser__methods-entity" data-reactid="39"><a title="DataPoint.flag" href="#.flag" class="mega-link mega-link--functional" data-reactid="40">.flag</a></li><li class="class-browser__methods-entity" data-reactid="41"><a title="DataPoint.reflect" href="#.reflect" class="mega-link mega-link--functional" data-reactid="42">.reflect</a></li><li class="class-browser__methods-entity" data-reactid="43"><a title="DataPoint.reflectFromContext" href="#.reflectFromContext" class="mega-link mega-link--functional" data-reactid="44">.reflectFromContext</a></li></ul></div><div class="class-browser__entry" data-reactid="45"><a href="Period.html#Period" class="class-browser__entry-link mega-link mega-link--functional" data-reactid="46"><!-- react-text: 47 -->Period<!-- /react-text --></a></div><div class="class-browser__entry" data-reactid="48"><a href="Tuple.html#Tuple" class="class-browser__entry-link mega-link mega-link--functional" data-reactid="49"><!-- react-text: 50 -->Tuple<!-- /react-text --></a></div></div></nav></div><div data-reactid="51"><h3 class="layout__sidebar-header" data-reactid="52">API: Constraints</h3></div><div data-reactid="53"><nav class="megadoc-document-browser class-browser__listing" data-reactid="54"><div class="class-browser__category" data-reactid="55"><div class="class-browser__entry" data-reactid="56"><a href="Constraint.html#Constraint" class="class-browser__entry-link mega-link mega-link--functional" data-reactid="57"><!-- react-text: 58 -->Constraint<!-- /react-text --></a></div><div class="class-browser__entry" data-reactid="59"><a href="FrequencyConstraint.html#FrequencyConstraint" class="class-browser__entry-link mega-link mega-link--functional" data-reactid="60"><!-- react-text: 61 -->FrequencyConstraint<!-- /react-text --></a></div><div class="class-browser__entry" data-reactid="62"><a href="OrderConstraint.html#OrderConstraint" class="class-browser__entry-link mega-link mega-link--functional" data-reactid="63"><!-- react-text: 64 -->OrderConstraint<!-- /react-text --></a></div><div class="class-browser__entry" data-reactid="65"><a href="ParametricRateConstraint.html#ParametricRateConstraint" class="class-browser__entry-link mega-link mega-link--functional" data-reactid="66"><!-- react-text: 67 -->ParametricRateConstraint<!-- /react-text --></a></div><div class="class-browser__entry" data-reactid="68"><a href="ProximityConstraint.html#ProximityConstraint" class="class-browser__entry-link mega-link mega-link--functional" data-reactid="69"><!-- react-text: 70 -->ProximityConstraint<!-- /react-text --></a></div><div class="class-browser__entry" data-reactid="71"><a href="RateConstraint.html#RateConstraint" class="class-browser__entry-link mega-link mega-link--functional" data-reactid="72"><!-- react-text: 73 -->RateConstraint<!-- /react-text --></a></div><div class="class-browser__entry" data-reactid="74"><a href="StrictOrderConstraint.html#StrictOrderConstraint" class="class-browser__entry-link mega-link mega-link--functional" data-reactid="75"><!-- react-text: 76 -->StrictOrderConstraint<!-- /react-text --></a></div><div class="class-browser__entry" data-reactid="77"><a href="TypeConstraint.html#TypeConstraint" class="class-browser__entry-link mega-link mega-link--functional" data-reactid="78"><!-- react-text: 79 -->TypeConstraint<!-- /react-text --></a></div></div></nav></div></div></div><div class="ui-resizable-handle ui-resizable-e" data-reactid="80"></div></div></div><div class="two-column-layout__right" style="margin-left:340px;" data-reactid="81"><div data-reactid="82"><div class="doc-content" data-reactid="83"><div data-reactid="84"><div class="class-view" data-reactid="85"><div data-reactid="86"><h1 class="class-view__header anchorable-heading" data-reactid="87"><span class="anchorable-heading__text" data-reactid="88">DataPoint</span><!-- react-text: 89 --> <!-- /react-text --><!-- react-text: 90 --> <!-- /react-text --><span class="class-view__header-type" data-reactid="91"><span data-reactid="92"><span data-reactid="93">Object</span></span></span></h1><div class="highlighted-text " data-reactid="94"><p>Functions for storing data from application events in metric points. These
functions are utilized in the <a href="createState.html" title="Create a blank state for [[refinement | refine]]." class="mega-link--internal">definition of metrics</a>.</p>
<p>To perform custom treatment of a certain data point (aka a reducer) you can
implement the <code>value</code> function with the following signature:</p>
<pre class="language-javascript"><code><span class="token keyword" >function</span><span class="token punctuation" >(</span>data<span class="token punctuation" >:</span> Object<span class="token operator" >?</span><span class="token punctuation" >,</span> context<span class="token punctuation" >:</span> Any<span class="token operator" >?</span><span class="token punctuation" >)</span><span class="token punctuation" >:</span> Any</code></pre><p>Inside such a reducer you have access to both the application event&#39;s data as
well as the current context so that you can refine or compute the data any
way you wish.</p>
</div></div><div data-reactid="95"><div data-reactid="96"><div data-reactid="97"></div><div class="doc-group" data-reactid="98"><h2 class="doc-group__header" data-reactid="99">Static Methods</h2><ul class="class-view__method-list" data-reactid="100"><div class="doc-entity collapsible collapsible--expanded" data-reactid="101"><h3 class="doc-entity__header collapsible-header anchorable-heading" title="always" data-reactid="102"><i class="icon collapser collapsible__icon icon-arrow-down" data-reactid="103"></i><a name=".always" class="anchorable-heading__anchor" data-reactid="104"></a><a class="anchorable-heading__link icon icon-link" href="#.always" data-reactid="105"></a><span class="anchorable-heading__text" data-reactid="106"><span class="doc-entity__name-fragment" data-reactid="107">always</span><span class="doc-entity__function-signature" data-reactid="108">(<em>value</em>: Any)</span><span class="doc-entity__method-params" data-reactid="109"><!-- react-text: 110 --> -&gt; <!-- /react-text --><span class="js-type-names" data-reactid="111">() -> Any</span></span></span></h3><div class="doc-entity__description" data-reactid="112"><div class="highlighted-text " data-reactid="113"><p>Always return the specified value regardless of the application event data.</p>
<p>For example, let&#39;s assume we have a UI interaction that can be triggered
using either the mouse or the keyboard and that each kind of interaction
triggers a <strong>distinct</strong> event, but we want the metric point to store
information anyway:</p>
<pre class="language-javascript"><code><span class="token keyword" >const</span> metrics <span class="token operator" >=</span> <span class="token punctuation" >[</span>
  <span class="token punctuation" >{</span>
    name<span class="token punctuation" >:</span> <span class="token string" >'Search box opened'</span><span class="token punctuation" >,</span>
    events<span class="token punctuation" >:</span> <span class="token punctuation" >[</span> <span class="token string" >'search-box/opened-using-mouse'</span> <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
    dataPoints<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
      <span class="token punctuation" >{</span>
        name<span class="token punctuation" >:</span> <span class="token string" >'usingMouse'</span><span class="token punctuation" >,</span>
        DataPoint<span class="token punctuation" >.</span><span class="token function" >always</span><span class="token punctuation" >(</span><span class="token boolean" >true</span><span class="token punctuation" >)</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >]</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >{</span>
    name<span class="token punctuation" >:</span> <span class="token string" >'Search box opened'</span><span class="token punctuation" >,</span>
    events<span class="token punctuation" >:</span> <span class="token punctuation" >[</span> <span class="token string" >'search-box/opened-using-keyboard'</span> <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
    dataPoints<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
      <span class="token punctuation" >{</span>
        name<span class="token punctuation" >:</span> <span class="token string" >'usingKeyboard'</span><span class="token punctuation" >,</span>
        DataPoint<span class="token punctuation" >.</span><span class="token function" >always</span><span class="token punctuation" >(</span><span class="token boolean" >true</span><span class="token punctuation" >)</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >]</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >]</span></code></pre></div></div><div class="doc-entity__tags" data-reactid="114"><!-- react-empty: 115 --><!-- react-empty: 116 --><!-- react-empty: 117 --><!-- react-empty: 118 --><!-- react-empty: 119 --><!-- react-empty: 120 --></div></div><!-- react-empty: 121 --><div class="doc-entity collapsible collapsible--expanded" data-reactid="122"><h3 class="doc-entity__header collapsible-header anchorable-heading" title="flag" data-reactid="123"><i class="icon collapser collapsible__icon icon-arrow-down" data-reactid="124"></i><a name=".flag" class="anchorable-heading__anchor" data-reactid="125"></a><a class="anchorable-heading__link icon icon-link" href="#.flag" data-reactid="126"></a><span class="anchorable-heading__text" data-reactid="127"><span class="doc-entity__name-fragment" data-reactid="128">flag</span><span class="doc-entity__function-signature" data-reactid="129">(<em>key</em>: String)</span><span class="doc-entity__method-params" data-reactid="130"><!-- react-text: 131 --> -&gt; <!-- /react-text --><span class="js-type-names" data-reactid="132">(Object) -> Boolean</span></span></span></h3><div class="doc-entity__description" data-reactid="133"><div class="highlighted-text " data-reactid="134"><p>Store whether a value in the application event data was present at all,
regardless of its value (it has to evaluate to <code>true</code>.)</p>
<p>This coercion is useful in cases when you&#39;re interested only in whether a
certain value is set. For example, let&#39;s assume we have a UI filtering
control that lets the user filter results by Name and Date of Birth. What we
want the metric point to convey is whether they are using the name filter,
the date of birth filter, or both. The values are irrelevant.</p>
<pre class="language-javascript"><code><span class="token keyword" >const</span> metrics <span class="token operator" >=</span> <span class="token punctuation" >[</span>
  <span class="token punctuation" >{</span>
    name<span class="token punctuation" >:</span> <span class="token string" >'Filtered results'</span><span class="token punctuation" >,</span>
    events<span class="token punctuation" >:</span> <span class="token punctuation" >[</span> <span class="token string" >'results-filtered'</span> <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
    dataPoints<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
      <span class="token punctuation" >{</span>
        name<span class="token punctuation" >:</span> <span class="token string" >'byName'</span><span class="token punctuation" >,</span>
        value<span class="token punctuation" >:</span> DataPoint<span class="token punctuation" >.</span><span class="token function" >flag</span><span class="token punctuation" >(</span><span class="token string" >'name'</span><span class="token punctuation" >)</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
      <span class="token punctuation" >{</span>
        name<span class="token punctuation" >:</span> <span class="token string" >'byDateOfBirth'</span><span class="token punctuation" >,</span>
        value<span class="token punctuation" >:</span> DataPoint<span class="token punctuation" >.</span><span class="token function" >flag</span><span class="token punctuation" >(</span><span class="token string" >'dateOfBirth'</span><span class="token punctuation" >)</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >]</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >]</span>

<span class="token keyword" >const</span> event1 <span class="token operator" >=</span> <span class="token punctuation" >{</span> name<span class="token punctuation" >:</span> <span class="token string" >'results-filtered'</span><span class="token punctuation" >,</span> data<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> name<span class="token punctuation" >:</span> <span class="token string" >'a'</span> <span class="token punctuation" >}</span> <span class="token punctuation" >}</span>
<span class="token comment" spellcheck="true">// => { byName: true, byDateOfBirth: false }</span>

<span class="token keyword" >const</span> event2 <span class="token operator" >=</span> <span class="token punctuation" >{</span> name<span class="token punctuation" >:</span> <span class="token string" >'results-filtered'</span><span class="token punctuation" >,</span> data<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> name<span class="token punctuation" >:</span> <span class="token keyword" >null</span> <span class="token punctuation" >}</span> <span class="token punctuation" >}</span>
<span class="token comment" spellcheck="true">// => { byName: false, byDateOfBirth: false }</span></code></pre></div></div><div class="doc-entity__tags" data-reactid="135"><div class="tag-group tag-group--tabular collapsible tag-group--single-child" data-reactid="136"><h4 class="tag-group__header collapsible-header" data-reactid="137"><i class="icon collapser collapsible__icon icon-arrow-down" data-reactid="138"></i><!-- react-text: 139 -->Parameters (<!-- /react-text --><!-- react-text: 140 -->1<!-- /react-text --><!-- react-text: 141 -->)<!-- /react-text --></h4><table data-reactid="142"><tbody data-reactid="143"><tr class="param-tag" data-reactid="144"><td class="tag-group__primary-column" data-reactid="145"><header class="param-tag__header" data-reactid="146"><code class="param-tag__name" data-reactid="147">key</code></header></td><td data-reactid="148"><code class="param-tag__types" data-reactid="149"><span class="js-type-names" data-reactid="150">String</span></code><div class="highlighted-text param-tag__description" data-reactid="151"><p>The property key of the value to test.</p>
</div><!-- react-empty: 152 --></td></tr></tbody></table></div><!-- react-empty: 153 --><!-- react-empty: 154 --><!-- react-empty: 155 --><!-- react-empty: 156 --><!-- react-empty: 157 --></div></div><!-- react-empty: 158 --><div class="doc-entity collapsible collapsible--expanded" data-reactid="159"><h3 class="doc-entity__header collapsible-header anchorable-heading" title="reflect" data-reactid="160"><i class="icon collapser collapsible__icon icon-arrow-down" data-reactid="161"></i><a name=".reflect" class="anchorable-heading__anchor" data-reactid="162"></a><a class="anchorable-heading__link icon icon-link" href="#.reflect" data-reactid="163"></a><span class="anchorable-heading__text" data-reactid="164"><span class="doc-entity__name-fragment" data-reactid="165">reflect</span><span class="doc-entity__function-signature" data-reactid="166">(<em>path</em>: String | Array.&lt;String&gt;)</span><span class="doc-entity__method-params" data-reactid="167"><!-- react-text: 168 --> -&gt; <!-- /react-text --><span class="js-type-names" data-reactid="169">(Object) -> Any</span></span></span></h3><div class="doc-entity__description" data-reactid="170"><div class="highlighted-text " data-reactid="171"><p>Reflect the value found at @path in the event&#39;s data.</p>
<p>This is the default data point reducer.</p>
</div></div><div class="doc-entity__tags" data-reactid="172"><div class="tag-group tag-group--tabular collapsible tag-group--single-child" data-reactid="173"><h4 class="tag-group__header collapsible-header" data-reactid="174"><i class="icon collapser collapsible__icon icon-arrow-down" data-reactid="175"></i><!-- react-text: 176 -->Parameters (<!-- /react-text --><!-- react-text: 177 -->1<!-- /react-text --><!-- react-text: 178 -->)<!-- /react-text --></h4><table data-reactid="179"><tbody data-reactid="180"><tr class="param-tag" data-reactid="181"><td class="tag-group__primary-column" data-reactid="182"><header class="param-tag__header" data-reactid="183"><code class="param-tag__name" data-reactid="184">path</code></header></td><td data-reactid="185"><code class="param-tag__types" data-reactid="186"><span class="js-type-names" data-reactid="187">String | Array.&lt;String&gt;</span></code><div class="highlighted-text param-tag__description" data-reactid="188"><p>The property path of the value to reflect.</p>
</div><!-- react-empty: 189 --></td></tr></tbody></table></div><!-- react-empty: 190 --><!-- react-empty: 191 --><!-- react-empty: 192 --><!-- react-empty: 193 --><!-- react-empty: 194 --></div></div><div class="doc-entity collapsible collapsible--expanded" data-reactid="195"><h3 class="doc-entity__header collapsible-header anchorable-heading" title="reflectFromContext" data-reactid="196"><i class="icon collapser collapsible__icon icon-arrow-down" data-reactid="197"></i><a name=".reflectFromContext" class="anchorable-heading__anchor" data-reactid="198"></a><a class="anchorable-heading__link icon icon-link" href="#.reflectFromContext" data-reactid="199"></a><span class="anchorable-heading__text" data-reactid="200"><span class="doc-entity__name-fragment" data-reactid="201">reflectFromContext</span><span class="doc-entity__function-signature" data-reactid="202">(<em>path</em>: String | Array.&lt;String&gt;)</span><span class="doc-entity__method-params" data-reactid="203"><!-- react-text: 204 --> -&gt; <!-- /react-text --><span class="js-type-names" data-reactid="205">(Object) -> Any</span></span></span></h3><div class="doc-entity__description" data-reactid="206"><div class="highlighted-text " data-reactid="207"><p>Reflect the value found at @path in the provided context.</p>
</div></div><div class="doc-entity__tags" data-reactid="208"><div class="tag-group tag-group--tabular collapsible tag-group--single-child" data-reactid="209"><h4 class="tag-group__header collapsible-header" data-reactid="210"><i class="icon collapser collapsible__icon icon-arrow-down" data-reactid="211"></i><!-- react-text: 212 -->Parameters (<!-- /react-text --><!-- react-text: 213 -->1<!-- /react-text --><!-- react-text: 214 -->)<!-- /react-text --></h4><table data-reactid="215"><tbody data-reactid="216"><tr class="param-tag" data-reactid="217"><td class="tag-group__primary-column" data-reactid="218"><header class="param-tag__header" data-reactid="219"><code class="param-tag__name" data-reactid="220">path</code></header></td><td data-reactid="221"><code class="param-tag__types" data-reactid="222"><span class="js-type-names" data-reactid="223">String | Array.&lt;String&gt;</span></code><div class="highlighted-text param-tag__description" data-reactid="224"><p>The property path of the value to reflect.</p>
</div><!-- react-empty: 225 --></td></tr></tbody></table></div><!-- react-empty: 226 --><!-- react-empty: 227 --><!-- react-empty: 228 --><!-- react-empty: 229 --><!-- react-empty: 230 --></div></div><!-- react-empty: 231 --></ul></div></div></div></div></div></div></div></div></div></div></div></div></div>

    <!-- Prepare UMD container -->
    <script>
      window.exports = {};
    </script>

    <!-- Megadoc core scripts -->
    
    <script type="text/javascript" src="../assets/megadoc__config.js"></script>
    
    <script type="text/javascript" src="../assets/megadoc__vendor.js"></script>
    
    <script type="text/javascript" src="../assets/megadoc.js"></script>
    

    <!-- Re-export common modules into MEGADOC_PUBLIC_MODULES -->
    <script type="text/javascript" src="../assets/megadoc__common.js"></script>
    <script>
      window.MEGADOC_PUBLIC_MODULES = exports['megadoc__common'];
    </script>

    <!-- Collect plugin script exports -->
    
    <script type="text/javascript" src="../assets/megadoc-plugin-markdown.js"></script>
    
    <script type="text/javascript" src="../assets/megadoc-plugin-js.js"></script>
    
    <script type="text/javascript" src="../assets/megadoc-theme-minimalist.js"></script>
    

    <!-- Load the plugins and start the client -->
    <script>
      window.startingDocumentUID = "364993eec6d62e447af4b6a8a4a85ebc";
      window.startingDocumentHref = "/api/DataPoint.html";
      window.MEGADOC_PLUGINS = Object.keys(exports)
        .filter(function(key) {
          var thing = exports[key];

          return (
            thing &&
            typeof thing === 'object' &&
            typeof thing.name === 'string' &&
            (
              thing.plugin === true ||
              /megadoc-(theme|plugin)-/.test(thing.name)
            )
          );
        })
        .map(function(key) {
          return exports[key];
        })
      ;

      exports['megadoc'].startApp(exports['megadoc__config'], {
        startingDocumentUID: window.startingDocumentUID,
        startingDocumentHref: window.startingDocumentHref,
        plugins: window.MEGADOC_PLUGINS,
      });
    </script>
  </body>
</html>
